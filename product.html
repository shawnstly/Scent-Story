/* ===== PDP: Stacked images (one after another) ===== */
.pdp .pdp-images #mainImage{ display:none; }
.pdp .pdp-images .thumbs{ display:block; gap:0; }
.pdp .pdp-images .thumbs img{
  width:100%;
  height:420px;              /* reduced but impactful size */
  object-fit:cover;
  display:block;
  border-radius:16px;
  border:1px solid var(--border, #e5e7eb);
  margin-bottom:12px;
}
.pdp .pdp-images .thumbs img:last-child{ margin-bottom:0; }

@media (max-width: 860px){
  .pdp .pdp-images .thumbs img{ height:300px; }
}

/* ===== PDP: Sticky image column (desktop) + Lightbox ===== */
@media (min-width: 900px){
  .pdp .pdp-images{ position: sticky; top: 80px; }
}

/* Make stacked gallery images clearly interactive */
.pdp .pdp-images .thumbs img{ cursor: zoom-in; }

/* Lightbox overlay */
body.no-scroll{ overflow: hidden; }
.lightbox{ position: fixed; inset:0; background: rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; z-index: 1200; padding: 24px; }
.lightbox.open{ display:flex; }
.lightbox img{ max-width: 92vw; max-height: 92vh; border-radius: 12px; box-shadow: 0 12px 40px rgba(0,0,0,.5); }
.lightbox button{ position:absolute; background: rgba(255,255,255,.12); color:#fff; border:1px solid rgba(255,255,255,.2); backdrop-filter: blur(4px); cursor:pointer; width:44px; height:44px; border-radius:999px; display:flex; align-items:center; justify-content:center; font-size:22px; }
.lightbox .lb-close{ top: 18px; right: 18px; }
.lightbox .lb-prev{ left: 16px; top: 50%; transform: translateY(-50%); }
.lightbox .lb-next{ right: 16px; top: 50%; transform: translateY(-50%); }
.lightbox button:hover{ background: rgba(255,255,255,.18); }
/* Ensure hidden attribute wins */
.lightbox[hidden]{ display:none !important; }
<!-- Lightbox (fullscreen image preview) -->
<div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Image preview" hidden>
  <button class="lb-close" id="lbClose" aria-label="Close">×</button>
  <button class="lb-prev" id="lbPrev" aria-label="Previous">‹</button>
  <img id="lbImg" alt="Product preview" />
  <button class="lb-next" id="lbNext" aria-label="Next">›</button>
</div>
<script>
(function(){
  const thumbs = Array.from(document.querySelectorAll('.pdp .pdp-images .thumbs img'));
  const overlay = document.getElementById('lightbox');
  const imgEl   = document.getElementById('lbImg');
  const btnClose= document.getElementById('lbClose');
  const btnPrev = document.getElementById('lbPrev');
  const btnNext = document.getElementById('lbNext');
  if(!overlay || !imgEl || !thumbs.length) return;

  let idx = 0;
  function setImage(i){
    idx = (i + thumbs.length) % thumbs.length;
    const src = thumbs[idx].getAttribute('data-large') || thumbs[idx].src;
    imgEl.src = src;
    imgEl.alt = thumbs[idx].alt || 'Product preview';
  }
  function openLb(i){
    setImage(i);
    document.body.classList.add('no-scroll');
    overlay.hidden = false;            // remove the hidden attribute
    overlay.classList.add('open');     // switch to flex
    btnClose && btnClose.focus();
  }
  function closeLb(){
    overlay.classList.remove('open');
    overlay.hidden = true;             // restore hidden attribute
    document.body.classList.remove('no-scroll');
  }
  function prev(){ setImage(idx - 1); }
  function next(){ setImage(idx + 1); }

  // Make stacked images keyboard/touch accessible
  thumbs.forEach((t, i)=>{
    t.setAttribute('tabindex','0');
    t.setAttribute('role','button');
    t.setAttribute('aria-label','Open image preview');
    t.addEventListener('click', ()=>openLb(i));
    t.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); openLb(i); }
    });
  });

  btnClose && btnClose.addEventListener('click', closeLb);
  btnPrev  && btnPrev.addEventListener('click', prev);
  btnNext  && btnNext.addEventListener('click', next);

  // Close when clicking backdrop (but not when clicking the image or buttons)
  overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeLb(); });

  // Keyboard support while lightbox is open
  document.addEventListener('keydown', (e)=>{
    if(overlay.hidden) return;
    if(e.key === 'Escape')      return closeLb();
    if(e.key === 'ArrowLeft')   return prev();
    if(e.key === 'ArrowRight')  return next();
  });
})();
</script>